Version 4
SHEET 1 1644 1452
WIRE -1456 -720 -1712 -720
WIRE -1280 -720 -1456 -720
WIRE -800 -720 -1280 -720
WIRE -464 -720 -800 -720
WIRE -256 -720 -464 -720
WIRE -32 -720 -256 -720
WIRE 240 -720 -32 -720
WIRE 400 -720 240 -720
WIRE -464 -704 -464 -720
WIRE -256 -704 -256 -720
WIRE -800 -688 -800 -720
WIRE -464 -592 -464 -624
WIRE -256 -592 -256 -624
WIRE -32 -592 -32 -720
WIRE -1712 -576 -1712 -720
WIRE -1456 -576 -1456 -720
WIRE -1280 -576 -1280 -720
WIRE -384 -544 -400 -544
WIRE -320 -544 -384 -544
WIRE -96 -544 -160 -544
WIRE -1136 -528 -1216 -528
WIRE -800 -528 -800 -608
WIRE -800 -528 -1056 -528
WIRE 688 -528 688 -592
WIRE 928 -528 928 -592
WIRE -464 -464 -464 -496
WIRE -384 -464 -384 -544
WIRE -384 -464 -464 -464
WIRE -256 -464 -256 -496
WIRE -160 -464 -160 -544
WIRE -160 -464 -256 -464
WIRE 240 -464 240 -720
WIRE 1200 -448 1200 -496
WIRE -464 -432 -464 -464
WIRE -256 -432 -256 -464
WIRE -800 -416 -800 -528
WIRE -32 -416 -32 -496
WIRE 176 -416 -32 -416
WIRE 688 -400 688 -448
WIRE 816 -400 688 -400
WIRE 928 -400 928 -448
WIRE 1056 -400 928 -400
WIRE -656 -384 -688 -384
WIRE -528 -384 -576 -384
WIRE -176 -384 -192 -384
WIRE -32 -384 -32 -416
WIRE -1712 -368 -1712 -512
WIRE -1568 -368 -1712 -368
WIRE -1280 -368 -1280 -480
WIRE -1280 -368 -1488 -368
WIRE -864 -368 -1280 -368
WIRE -576 -368 -576 -384
WIRE 816 -368 816 -400
WIRE 1056 -368 1056 -400
WIRE 688 -352 688 -400
WIRE 928 -352 928 -400
WIRE -192 -336 -192 -384
WIRE -464 -304 -464 -336
WIRE -352 -304 -464 -304
WIRE -256 -304 -256 -336
WIRE -256 -304 -352 -304
WIRE -1280 -288 -1280 -368
WIRE -800 -256 -800 -320
WIRE -528 -256 -800 -256
WIRE -352 -256 -352 -304
WIRE -32 -208 -32 -304
WIRE 240 -208 240 -368
WIRE 240 -208 -32 -208
WIRE 288 -208 240 -208
WIRE 336 -208 288 -208
WIRE 416 -208 400 -208
WIRE 1200 -208 1200 -256
WIRE -528 -192 -528 -256
WIRE -1456 -160 -1456 -512
WIRE -1280 -160 -1280 -208
WIRE -1280 -160 -1456 -160
WIRE -352 -144 -352 -176
WIRE -1280 -112 -1280 -160
WIRE -32 -112 -32 -160
WIRE -528 -64 -528 -112
WIRE -432 -64 -528 -64
WIRE -96 -64 -432 -64
WIRE -800 -32 -800 -256
WIRE -1280 32 -1280 -32
WIRE 240 32 240 -208
WIRE -32 80 -32 -16
WIRE 176 80 -32 80
WIRE -32 128 -32 80
WIRE 240 176 240 128
WIRE 688 192 560 192
WIRE 848 192 768 192
WIRE -528 208 -528 -64
WIRE -432 224 -432 -64
WIRE -800 256 -800 48
WIRE -592 256 -800 256
WIRE 240 272 240 256
WIRE 528 272 240 272
WIRE 560 272 560 192
WIRE 560 272 528 272
WIRE 688 272 560 272
WIRE 848 272 848 192
WIRE 848 272 768 272
WIRE 928 272 848 272
WIRE 240 304 240 272
WIRE 928 336 928 272
WIRE 560 352 560 272
WIRE -800 368 -800 256
WIRE -32 384 -32 208
WIRE 240 496 240 384
WIRE 560 496 560 432
WIRE -800 512 -800 448
WIRE 928 512 928 416
WIRE -32 544 -32 464
WIRE 176 544 -32 544
WIRE 560 592 560 560
WIRE -32 608 -32 544
WIRE -832 656 -944 656
WIRE -800 656 -800 592
WIRE -800 656 -832 656
WIRE -528 656 -528 304
WIRE -528 656 -800 656
WIRE -432 656 -432 288
WIRE -432 656 -528 656
WIRE -96 656 -432 656
WIRE -944 672 -944 656
WIRE -512 704 -544 704
WIRE -512 720 -512 704
WIRE -544 752 -544 704
WIRE 240 768 240 592
WIRE 240 768 -32 768
WIRE 272 768 240 768
WIRE 336 768 272 768
WIRE 480 768 400 768
WIRE -944 784 -944 752
WIRE -544 832 -624 832
WIRE -448 832 -544 832
WIRE -32 848 -32 768
WIRE -624 912 -624 832
WIRE -448 912 -448 832
WIRE 240 928 240 768
WIRE -832 960 -864 960
WIRE -720 960 -752 960
WIRE -688 960 -720 960
WIRE -368 960 -384 960
WIRE -352 960 -368 960
WIRE -240 960 -272 960
WIRE -720 976 -720 960
WIRE -32 976 -32 928
WIRE 176 976 -32 976
WIRE -368 1008 -368 960
WIRE -720 1072 -720 1056
WIRE -368 1104 -368 1088
WIRE -32 1136 -32 976
WIRE -624 1184 -624 1008
WIRE -560 1184 -624 1184
WIRE -448 1184 -448 1008
WIRE -96 1184 -448 1184
WIRE -624 1200 -624 1184
WIRE -448 1200 -448 1184
WIRE -560 1248 -560 1184
WIRE -512 1248 -560 1248
WIRE -624 1392 -624 1376
WIRE -448 1392 -448 1376
WIRE -448 1392 -624 1392
WIRE -32 1392 -32 1232
WIRE -32 1392 -448 1392
WIRE 240 1392 240 1024
WIRE 240 1392 -32 1392
WIRE 464 1392 240 1392
FLAG 928 512 0
FLAG -944 784 0
FLAG 528 272 Vout
FLAG -832 656 Vin
FLAG 816 -368 0
FLAG 688 -592 VccH+
FLAG 688 -272 VccH-
FLAG 400 -720 VccH+
FLAG 464 1392 VccH-
FLAG 1056 -368 0
FLAG 928 -592 VccL+
FLAG 928 -272 VccL-
FLAG 416 -208 VccL+
FLAG 480 768 VccL-
FLAG 1200 -448 0
FLAG 1200 -576 Vth+
FLAG 1200 -208 0
FLAG 1200 -336 Vth-
FLAG -1280 32 0
FLAG -32 -160 VccH+
FLAG -32 704 VccH-
FLAG -96 -384 VccL+
FLAG -240 960 VccL-
FLAG -864 960 Vout
FLAG -688 -384 Vout
FLAG 560 592 0
FLAG -576 -288 0
FLAG -192 -256 0
FLAG 288 -208 VL+
FLAG 272 768 VL-
FLAG -720 1072 0
FLAG -368 1104 0
FLAG -352 -144 0
FLAG -512 720 0
DATAFLAG 96 80 ""
DATAFLAG 240 160 "I(R1)"
DATAFLAG -528 -64 ""
DATAFLAG -544 656 ""
DATAFLAG 240 432 "I(R2)"
DATAFLAG 368 272 ""
DATAFLAG 64 544 ""
DATAFLAG 144 768 ""
DATAFLAG 64 976 ""
DATAFLAG 128 -208 ""
DATAFLAG -32 -624 "Ic(Q5)"
DATAFLAG -32 0 "Ic(Q3)"
DATAFLAG -800 -256 "Ic(Q10)"
DATAFLAG -32 544 "Ie(Q4)"
DATAFLAG -800 256 ""
DATAFLAG -352 -304 ""
DATAFLAG -256 -320 "round(10k*Ie(Q12))/10k"
DATAFLAG -544 832 ""
DATAFLAG -448 848 "Ie(Q16)"
DATAFLAG -240 -464 ""
DATAFLAG -544 -384 ""
DATAFLAG -192 -368 ""
DATAFLAG -352 -272 "round(I(R19)*10k)/10k"
DATAFLAG -368 960 ""
DATAFLAG -720 960 ""
SYMBOL npn 176 32 R0
SYMATTR InstName Q1
SYMATTR Value Qtip41c
SYMBOL npn -96 -112 R0
WINDOW 3 79 63 Left 2
SYMATTR Value mje340
SYMATTR InstName Q3
SYMBOL pnp 176 592 M180
SYMATTR InstName Q2
SYMATTR Value Qtip42c
SYMBOL res 224 160 R0
SYMATTR InstName R1
SYMATTR Value 0.1
SYMBOL res 224 288 R0
SYMATTR InstName R2
SYMATTR Value 0.1
SYMBOL res 912 320 R0
SYMATTR InstName R3
SYMATTR Value 8
SYMBOL pnp -96 704 M180
SYMATTR InstName Q4
SYMATTR Value mje350
SYMBOL res -48 112 R0
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL res -48 368 R0
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL voltage -944 656 R0
WINDOW 3 -79 -28 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value SINE(-1.19 26 1k)
SYMATTR InstName V5
SYMBOL res -48 -400 R0
SYMATTR InstName R6
SYMATTR Value 100
SYMBOL npn -96 -592 R0
SYMATTR InstName Q5
SYMATTR Value mje340
SYMBOL npn 176 -464 R0
SYMATTR InstName Q6
SYMATTR Value Qtip41c
SYMBOL schottky 400 -224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value Dmbr1645
SYMBOL schottky 336 784 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value Dmbr1645
SYMBOL pnp 176 1024 M180
SYMATTR InstName Q8
SYMATTR Value Qtip42c
SYMBOL pnp -96 1232 M180
SYMATTR InstName Q7
SYMATTR Value mje350
SYMBOL res -48 832 R0
SYMATTR InstName R7
SYMATTR Value 100
SYMBOL voltage 688 -544 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V8
SYMATTR Value 30
SYMBOL voltage 688 -368 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V9
SYMATTR Value 30
SYMBOL voltage 928 -544 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value 12
SYMBOL voltage 928 -368 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V7
SYMATTR Value 12
SYMBOL voltage 1200 -592 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL voltage 1200 -352 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value -10
SYMBOL npn -592 208 R0
SYMATTR InstName Q9
SYMATTR Value mje340
SYMBOL res -544 -208 R0
SYMATTR InstName R8
SYMATTR Value 16
SYMBOL res -816 -48 R0
SYMATTR InstName R9
SYMATTR Value 3k3
SYMBOL res -816 352 R0
SYMATTR InstName R10
SYMATTR Value 680
SYMBOL res -816 496 R0
SYMATTR InstName R11
SYMATTR Value 680
SYMBOL pnp -864 -320 M180
WINDOW 0 56 61 Left 2
WINDOW 3 50 33 Left 2
SYMATTR InstName Q10
SYMATTR Value Qmpsa56
SYMBOL res -816 -704 R0
SYMATTR InstName R12
SYMATTR Value 120
SYMBOL res -1040 -544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 2k2
SYMBOL pnp -1216 -480 R180
SYMATTR InstName Q11
SYMATTR Value Qmpsa56
SYMBOL res -1296 -304 R0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res -1296 -128 R0
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL res -1472 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 2k2
SYMBOL cap -1728 -576 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL cap -1472 -576 R0
SYMATTR InstName C2
SYMATTR Value 47µ
SYMBOL cap -448 224 R0
SYMATTR InstName C3
SYMATTR Value 47µ
SYMBOL res -240 -720 M0
SYMATTR InstName R17
SYMATTR Value 50
SYMBOL res -448 -720 M0
SYMATTR InstName R18
SYMATTR Value 50
SYMBOL npn -192 -432 M0
SYMATTR InstName Q12
SYMATTR Value BC817-16
SYMBOL npn -528 -432 R0
WINDOW 3 42 60 Left 2
SYMATTR Value BC817-16
SYMATTR InstName Q13
SYMBOL res -336 -272 M0
SYMATTR InstName R19
SYMATTR Value 500
SYMBOL pnp -400 -496 R180
SYMATTR InstName Q14
SYMATTR Value BC807-16
SYMBOL pnp -320 -496 M180
SYMATTR InstName Q15
SYMATTR Value BC807-16
SYMBOL pnp -384 1008 R180
WINDOW 0 38 42 Left 2
WINDOW 3 41 67 Left 2
SYMATTR InstName Q16
SYMATTR Value BC807-16
SYMBOL pnp -688 1008 M180
WINDOW 0 52 26 Left 2
WINDOW 3 36 55 Left 2
SYMATTR InstName Q17
SYMATTR Value BC807-16
SYMBOL res -640 1280 R0
SYMATTR InstName R20
SYMATTR Value 50
SYMBOL res -464 1280 R0
SYMATTR InstName R21
SYMATTR Value 50
SYMBOL res -560 736 R0
SYMATTR InstName R22
SYMATTR Value 500
SYMBOL npn -512 1200 R0
SYMATTR InstName Q18
SYMATTR Value BC817-16
SYMBOL npn -560 1200 M0
SYMATTR InstName Q19
SYMATTR Value BC817-16
SYMBOL ind 672 288 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 10µ
SYMBOL res 784 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 10
SYMBOL res 544 336 R0
SYMATTR InstName R24
SYMATTR Value 10
SYMBOL cap 544 496 R0
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL res -592 -384 R0
SYMATTR InstName R25
SYMATTR Value 5k
SYMBOL res -560 -400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 5k
SYMBOL res -80 -400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 2k
SYMBOL res -176 -240 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R28
SYMATTR Value 1k
SYMBOL res -736 944 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R29
SYMATTR Value 5k
SYMBOL res -736 960 R0
SYMATTR InstName R30
SYMATTR Value 5k
SYMBOL res -256 944 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R31
SYMATTR Value 2k
SYMBOL res -384 992 R0
SYMATTR InstName R32
SYMATTR Value 1k
TEXT 544 -40 Left 2 !.tran 0 13m 10m
TEXT 544 -72 Left 2 !.four 1kHz V(Vin)
TEXT 544 -104 Left 2 !.four 1kHz V(Vout)
TEXT 544 -136 Left 2 !.op
TEXT 984 168 Left 2 !.inc ..\\modelos\\BC558B.lib
TEXT 984 200 Left 2 !.inc ..\\modelos\\BC548B.lib
TEXT 984 104 Left 2 !.inc ..\\modelos\\BC807.lib
TEXT 984 136 Left 2 !.inc ..\\modelos\\BC817.lib
TEXT 984 232 Left 2 !.inc ..\\modelos\\2SA1302.lib
TEXT 984 264 Left 2 !.inc ..\\modelos\\2SC3281.lib
TEXT 984 40 Left 2 !.inc ..\\modelos\\MPSA06.LIB
TEXT 984 72 Left 2 !.inc ..\\modelos\\MPSA56.LIB
TEXT 984 -152 Left 2 !.inc ..\\modelos\\TL081.sub
TEXT 984 -120 Left 2 !.inc ..\\modelos\\TIP41C.lib
TEXT 984 -88 Left 2 !.inc ..\\modelos\\TIP42C.lib
TEXT 984 8 Left 2 !.inc ..\\modelos\\MJE340_on.lib
TEXT 984 -56 Left 2 !.inc ..\\modelos\\MJE350_on.lib
TEXT 984 -24 Left 2 !.inc ..\\modelos\\MBR1645.lib
